.membership-visualiser {
  $line-dot-size: 6px;
  $row-height: $line-height-computed + 2 * $padding-large-vertical;
  $animation-time: 0.1s;

  position: relative;
  min-height: 100px;

  &.loading {
    pointer-events: none;
    .membership {
      opacity: 0.3
    }
  }

  &.condensed {
    .membership-relation {
      width: 30px;
    }
    .membership-block {
      max-width: 120px;
      .type-icon {
        pointer-events: none;
      }
    }
    .membership-element {
      pointer-events: none;
    }
  }

  .membership-element {
    display: inline-block;
    vertical-align: middle;
    line-height: $row-height;
  }
  .membership-block {
    position: relative;
    padding-left: 2.5em;
    max-width: 250px;
    .type-icon {
      @include vertical-align-middle();
      position: absolute;
      left: $padding-xs-horizontal;
      font-size: 1.7em;
    }
    .record-name {
      margin-right: 0.8em;
    }
    .type-icon {
      &::before {
        transition: opacity $animation-time linear;
        opacity: 1;
      }
      &::after {
        content: $oneicon-settings;
        position: absolute;
        left: 0;
        transition: opacity $animation-time linear;
        opacity: 0;
      }
    }
    &.group .type-icon {
      color: $color-one-yellow;
    }
    &.space .type-icon {
      color: $color-one-azure;
    }
    &.provider .type-icon {
      color: $color-one-mint;
    }
    .type-icon:hover, &.actions-opened .type-icon {
      cursor: pointer;
      &::after {
        opacity: 1;
      }
      &::before {
        opacity: 0;
      }
    }
    .link-icon {
      @include vertical-align-middle();
      position: absolute;
      right: $padding-xs-horizontal;
      font-size: 1em;
      color: $color-one-azure;
    }
  }
  .membership-relation {
    position: relative;
    width: 100px;
    height: 2 * $line-dot-size;
    .line, .dot {
      position: absolute;
      left: 0;
      transition: background-color $animation-time linear;
      background-color: $color-one-azure;
    }
    .line {
      @include vertical-align-middle();
      height: 2px;
      width: 100%;
    }
    .dot {
      top: 50%;
      transform: translateX(-50%) translateY(-50%);
      width: $line-dot-size;
      height: $line-dot-size;
      border-radius: 100%;
    }
    .dot-right {
      left: initial;
      right: 0;
      transform: translateX(50%) translateY(-50%);
    }
    &.hovered {
      .line, .dot {
        background-color: $color-one-blue-gray;
      }
      .actions-trigger {
        opacity: 1;
      }
    }

    .actions-trigger {
      $trigger-size: 22px;
      @include absolute-align-middle-center();
      position: absolute;
      left: 50%;
      color: $color-one-blue-gray;
      font-size: $trigger-size;
      opacity: 0;
      transition: opacity $animation-time linear;
      cursor: pointer;
      &:hover {
        color: $color-one-azure;
      }
      &::after {
        content: '';
        @include absolute-align-middle-center();
        display: block;
        width: $trigger-size * 0.9;
        height: $trigger-size * 0.9;
        background-color: $color-one-white;
        border-radius: 100%;
        z-index: -1;
      }
    }
  }
  .membership-more {
    font-style: italic;
    margin: 0 0.8em;
  }
  .membership {
    position: relative;
    height: $row-height;
    border-bottom: 1px solid $main-border-color;
    white-space: nowrap;
    &:last-child {
      border-bottom: 0;
    }
    &.filtered-out {
      display: none;
    }
    &.limit-info {
      padding-left: 1em;
      font-style: italic;
    }
    .ps-container {
      &.ps-active-x {
        cursor: move;
      }
      // moving horizontal scroll error fix
      & > .ps-scrollbar-x-rail {
        left: 0 !important;
      }
    }
  }
}

<div class="row content-row header-row hidden-xs">
  <h1>
    <span class="one-label">{{tt this "profile"}}</span>
  </h1>
</div>
<div class="content-row">
  <h1>{{tt this "displayName"}}</h1>
  <div class="indented-row">
    {{one-icon icon="user-profile" class="user-image"}}
    {{one-inline-editor value=user.displayName onSave=(action "saveDisplayName") class="display-name-editor"}}
  </div>
</div>
<div class="content-row">
  <h1>{{tt this "username"}}</h1>
  <div class="indented-row">
    {{one-inline-editor value=user.username onSave=(action "saveUsername") class="username-editor"}}
  </div>
</div>
{{#if showPasswordSection}}
  <div class="content-row">
    <h1>{{tt this "password"}}</h1>
    <div class="indented-row change-password-row {{if isChangingPassword "is-changing-password"}}">
      {{#if user.username}}
        {{#if isChangingPassword}}
          {{user-credentials-form
            centered=false
            showCancel=true
            verifyCurrentPassword=user.hasPassword
            changingPassword=isChangingPassword
            submit=(action "saveNewPassword")
            cancel=(action "stopPasswordChange")}}
        {{else}}
          {{one-inline-editor
            value=passwordString
            class="password-editor-trigger"
            onEdit=(action "startPasswordChange")}}
        {{/if}}
      {{else}}
        {{one-inline-editor
          class="password-editor-trigger no-username"
          staticPlaceholder=(tt this "setUsernameFirst")
          isEditing=false}}
      {{/if}}
    </div>
  </div>
{{/if}}
<div class="content-row">
  <h1>{{tt this "linkedAccounts"}}</h1>
  <ul class="indented-row linked-accounts-list">
    {{#promise-proxy-container proxy=linkedAccountsProxy}}
      {{#each accountsInfo as |accountInfo|}}
        <li class="linked-account full-social-icon content-row {{accountInfo.account.idp}}-account">
          {{login-box/social-box-list/social-box
            authId=accountInfo.account.idp
            iconPath=accountInfo.authorizer.iconPath
            iconBackgroundColor=accountInfo.authorizer.iconBackgroundColor
          }}
          <div class="account-description">
            {{#truncated-string class="account-type"}}
              {{accountInfo.authorizer.displayName}}
            {{/truncated-string}}
            {{#each accountInfo.account.emails as |email|}}
              {{#truncated-string class="account-email"}}
                {{email}}
              {{/truncated-string}}
            {{/each}}
          </div>
        </li>
      {{/each}}
      <li class="linked-account full-social-icon content-row add-account">
        {{#login-box/social-box-list/social-box
          authId="add"
          socialIconStyle=""
          aStyle=""
          class="social-box-linked-account"
          click=(action "toggleAuthorizersDropdown")
        }}
          <span class="plus-icon">+</span>
        {{/login-box/social-box-list/social-box}}
        <div class="account-description">
          <div class="show-dropdown-description animated fast" {{action "toggleAuthorizersDropdown"}}>
            {{tt this "addAccount"}}
          </div>
          {{authorizers-dropdown
            authorizers=authorizersForSelect
            onSelect=(action "authorizerSelected")
            selectedAuthorizer=_selectedAuthorizer
            activeAuthorizer=_selectedAuthorizer
            disabled=_selectedAuthorizer
            placeholder=(tt this "addAccountDropdownPlaceholder")
            renderInPlace=true
            verticalPosition="above"
            class="animated fast hide"
          }}
        </div>
      </li>
    {{/promise-proxy-container}}
  </ul>
</div>

<div class="row content-row header-row hidden-xs">
  <h1 class="normal-case with-menu">
    {{#truncated-string class="one-label"}}{{space.name}}{{/truncated-string}}
    {{actions-toolbar actionsArray=globalActions isMinimized=true}}
  </h1>
  {{#one-switchable-popover-modal
    triggersConfiguration=leaveSpaceModalTriggers
    popoverClass="popover-leave-space"
    submit=(action "leave")
    as |ospm|
  }}
    {{leave-space-confirm submitAction=ospm.submit closeAction=ospm.close}}
  {{/one-switchable-popover-modal}}
</div>

<div class="row content-row">
  <div class="one-tile-container">
    {{#if (and dataProviderProxy.isFulfilled dataProviderProxy.content)}}
      {{#one-tile
        class="text-center resource-browse-tile"
        title=(tt this "tileDataTitle")
        route=dataProviderRoute
        routeQueryParams=dataProviderRouteParams
        moreText=(tt this "browseFiles")}}
        <figure class="main-figure">
          <img class="main-image" src="assets/images/space-data.svg">
          {{#truncated-string tagName="span" class="one-label"}}{{dataProviderProxy.name}}{{/truncated-string}}
        </figure>
      {{/one-tile}}
    {{/if}}
    {{#resource-info-tile record=space}}
      <tr>
        <td class="property-name">{{tt this "sharedDirectories"}}</td>
        <td class="property-value shared-directories">{{space.info.sharedDirectories}}</td>
      </tr>
    {{/resource-info-tile}}
    {{#if space.hasViewPrivilege}}
      {{#one-tile
        class="text-center resource-support-tile"
        title=(tt this "tileProvidersTitle")
        aspect=(if isSupported "providers" "support")}}
        {{#loading-container
          isLoading=(not (or space.providerList.isLoaded space.providerList.list.isFulfilled))
        }}
          {{#if isSupported}}
            <div class="support-chart-container absolute-align-middle-center full-width">
              {{space-providers-support-chart
                space=space
                providersColors=providersColors
                forceMobile=true
                hideLegend=true
              }}
            </div>
          {{else}}
            <figure class="main-figure">
              <img class="main-image" src="assets/images/space-get-support.svg">
              <span class="one-label">{{tt this "getSupport"}}</span>  
            </figure>
          {{/if}}
        {{/loading-container}}
      {{/one-tile}}
      {{providers-map-tile
        class="resource-map-tile"
        providersProxy=providersProxy
        aspect=(if isSupported "providers" "support")
        title=(tt this "tileProvidersMapTitle")}}
    {{/if}}
    {{#if space.hasViewPrivilege}}
      {{resource-members-tile record=space}}
    {{/if}}
    {{resource-membership-tile record=space}}
    {{yield}}
  </div>
</div>

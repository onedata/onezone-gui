<h1>{{tt this "header"}}</h1>
{{#promise-proxy-container proxy=manifestProxy}}
  {{#promise-proxy-container proxy=harvesterIndicesProxy}}
    {{#basic-table class="table table-striped"}}
      <thead>
        <tr>
          <th>{{tt this "pluginIndex"}}</th>
          <th>{{tt this "harvesterIndex"}}</th>
        </tr>
      </thead>
      <tbody>
        {{#each guiPluginIndices as |guiPluginIndex|}}
          <tr>
            <td class="row-header">{{guiPluginIndex.name}}</td>
            <td>
              {{#if (eq mode "edit")}}
                <span>
                  {{#power-select
                    options=assignIndexMethods
                    selected=(get selectedAssignMethods guiPluginIndex.name)
                    onchange=(action "changeAssignMethod" guiPluginIndex.name)
                    searchEnabled=false
                    renderInPlace=true
                    as |assignMethod|}}
                    {{tt this (concat "assignMethods." assignMethod)}}
                  {{/power-select}}
                  {{#if (eq (get selectedAssignMethods guiPluginIndex.name) "create")}}
                    <input
                      value={{get createIndicesNames guiPluginIndex.name}}
                      oninput={{action (action "changeAssignValue" guiPluginIndex.name) value="target.value"}}
                      class="form-control">
                  {{else if (eq (get selectedAssignMethods guiPluginIndex.name) "choose")}}
                    {{#power-select
                      options=harvesterIndicesProxy
                      selected=(get selectedIndices guiPluginIndex.name)
                      onchange=(action "changeAssignValue" guiPluginIndex.name)
                      searchEnabled=false
                      renderInPlace=true
                      as |index|}}
                      {{index.name}}
                    {{/power-select}}
                  {{/if}}
                  {{#unless (eq (get selectedAssignMethods guiPluginIndex.name) "unassigned")}}
                    {{get guiIndicesErrors guiPluginIndex.name}}
                  {{/unless}}
                </span>
              {{else}}
                <span>
                  {{#if (get indicesMapping guiPluginIndex.name)}}
                    <span class="one-label">{{get (get indicesMapping guiPluginIndex.name) "name"}}</span>
                  {{else}}
                    <span class="not-assigned">{{tt this "notAssigned"}}</span>
                  {{/if}}
                </span>
              {{/if}}
            </td>
          </tr>
        {{/each}}
      </tbody>
    {{/basic-table}}
  {{/promise-proxy-container}}
{{/promise-proxy-container}}
{{!-- <div class="form-group">
  <label for={{concat elementId "-configuration"}}>{{tt this "configuration"}}</label>
  {{json-editor
    inputId=(concat elementId "-configuration")
    value=dataToDisplay.configuration
    disabled=disabled
    readonly=(eq mode "view")
    onChange=(action "onConfigurationChange")}}
</div> --}}
